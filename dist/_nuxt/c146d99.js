(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{651:function(t,e,n){var content=n(654);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("222f419b",content,!0,{sourceMap:!1})},653:function(t,e,n){"use strict";n(651)},654:function(t,e,n){(e=n(16)(!1)).push([t.i,".fab-button[data-v-7567a084]{position:fixed;bottom:0;right:0}",""]),t.exports=e},655:function(t,e,n){"use strict";n.r(e);var o={props:{onClick:Function}},r=(n(653),n(29)),c=n(26),l=n.n(c),f=n(142),d=n(172),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"ma-8 fab-button",attrs:{large:"",fab:"",dark:"",color:"teal"},on:{click:function(e){return e.stopPropagation(),t.onClick(e)}}},[n("v-icon",{attrs:{dark:""}},[t._v(" mdi-plus ")])],1)}),[],!1,null,"7567a084",null);e.default=component.exports;l()(component,{VBtn:f.a,VIcon:d.a})},701:function(t,e,n){"use strict";n.r(e);var o=n(1),r=(n(50),n(13)),c={data:function(){return{title:"",tabs:0,mode:"store",modal:{office:!1,department:!1},headers:{office:[{text:"Office",value:"name"},{text:"Opening time",value:"opening_time"},{text:"Closing time",value:"closing_time"},{text:"Building",value:"building"},{text:"Branch Office",value:"is_branch"},{text:"Address",value:"address.full_address"},{text:"Actions",value:"actions",sortable:!1}],department:[{text:"Department",value:"name"},{text:"Code",value:"code"},{text:"Chairman",value:"chairman.employee.full_name"},{text:"Office",value:"office.name"},{text:"Actions",value:"actions",sortable:!1}]},office:{},department:{}}},computed:{is_admin:function(){return this.$auth.user.is_admin},offices:function(){return this.$store.state.company.offices},departments:function(){return this.$store.state.company.departments}},mounted:function(){this.$store.dispatch("company/index")},methods:{onEdit:function(t){this.mode="update",this[this.tabs?"office":"department"]=this.$helper[this.tabs?"toOffice":"toDepartment"](t),this.title="Edit ".concat(this.tabs?"Office":"Department"),this.modal[this.tabs?"office":"department"]=!0},onCreate:function(){this.mode="create",this[this.tabs?"office":"department"]=this.$helper[this.tabs?"defaultOffice":"defaultDepartment"](),this.title="New ".concat(this.tabs?"Office":"Department"),this.modal[this.tabs?"office":"department"]=!0},onClick:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("company/"+e.mode,Object(o.a)({type:t},t,e[t]));case 2:case"end":return n.stop()}}),n)})))()},onDelete:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.$store.dispatch("company/delete",{type:t,id:e});case 2:case"end":return o.stop()}}),o)})))()}},head:function(){return{title:"Company"}}},l=n(29),f=n(26),d=n.n(f),m=n(142),v=n(217),h=n(181),_=n(649),k=n(700),x=n(172),C=n(699),w=n(712),O=n(710),y=n(696),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-card",{attrs:{flat:""}},[n("v-tabs",{attrs:{"background-color":"teal",color:"white","center-active":""},model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[n("v-tab",{key:"department"},[t._v(" department ")]),t._v(" "),n("v-tab",{key:"office"},[t._v(" office ")])],1)],1),t._v(" "),n("v-tabs-items",{staticClass:"mt-8",model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[n("v-tab-item",[n("v-data-table",{attrs:{headers:t.headers.department,items:t.departments,"items-per-page":5},scopedSlots:t._u([{key:"item.actions",fn:function(e){var o=e.item;return[t.is_admin?n("v-btn",{staticClass:"ma-1",attrs:{color:"warning",small:"",icon:"",outlined:""},on:{click:function(e){return e.stopPropagation(),t.onEdit(o)}}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-pencil")])],1):t._e(),t._v(" "),t.is_admin?n("v-btn",{staticClass:"ma-1",attrs:{color:"error",small:"",icon:"",outlined:""},on:{click:function(e){return e.stopPropagation(),t.onDelete("department",o.id)}}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-delete")])],1):t._e()]}}],null,!0)})],1),t._v(" "),n("v-tab-item",[n("v-data-table",{attrs:{headers:t.headers.office,items:t.offices,"items-per-page":5},scopedSlots:t._u([{key:"item.is_branch",fn:function(e){var o=e.item;return[n("v-chip",{attrs:{dark:"",color:o.is_branch?"orange":"green"}},[t._v("\n            "+t._s(o.is_branch?"Branch Office":"Head Office")+"\n          ")])]}},{key:"item.actions",fn:function(e){var o=e.item;return[t.is_admin?n("v-btn",{staticClass:"ma-1",attrs:{color:"warning",small:"",icon:"",outlined:""},on:{click:function(e){return e.stopPropagation(),t.onEdit(o)}}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-pencil")])],1):t._e(),t._v(" "),t.is_admin?n("v-btn",{staticClass:"ma-1",attrs:{color:"error",small:"",icon:"",outlined:""},on:{click:function(e){return e.stopPropagation(),t.onDelete("office",o.id)}}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-delete")])],1):t._e()]}}],null,!0)})],1)],1),t._v(" "),n("fab-button",{attrs:{onClick:t.onCreate}}),t._v(" "),n("office-modal",{attrs:{title:t.title,show:t.modal.office},on:{show:function(e){t.modal.office=e}},model:{value:t.office,callback:function(e){t.office=e},expression:"office"}},[n("v-btn",{attrs:{block:"",color:"teal",dark:""},on:{click:function(e){return e.stopPropagation(),t.onClick("office")}}},[t._v("\n      "+t._s(t.mode)+"\n    ")])],1),t._v(" "),n("department-modal",{attrs:{title:t.title,show:t.modal.department},on:{show:function(e){t.modal.department=e}},model:{value:t.department,callback:function(e){t.department=e},expression:"department"}},[n("v-btn",{attrs:{block:"",color:"teal",dark:""},on:{click:function(e){return e.stopPropagation(),t.onClick("department")}}},[t._v("\n      "+t._s(t.mode)+"\n    ")])],1)],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{FabButton:n(655).default,OfficeModal:n(659).default,DepartmentModal:n(660).default}),d()(component,{VBtn:m.a,VCard:v.a,VChip:h.a,VContainer:_.a,VDataTable:k.a,VIcon:x.a,VTab:C.a,VTabItem:w.a,VTabs:O.a,VTabsItems:y.a})}}]);